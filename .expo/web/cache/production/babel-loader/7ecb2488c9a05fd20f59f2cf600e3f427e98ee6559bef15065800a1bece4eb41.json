{"ast":null,"code":"import React,{useState,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TextInput from\"react-native-web/dist/exports/TextInput\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import axios from'axios';import AsyncStorage from'@react-native-async-storage/async-storage';import{Picker}from'@react-native-picker/picker';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NuevoTrabajador=({navigation})=>{const[nombre,setNombre]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[role,setRole]=useState('trabajador');const[token,setToken]=useState(null);useEffect(()=>{const getToken=async()=>{const token=await AsyncStorage.getItem('token');setToken(token);};getToken();},[]);const handleAddTrabajador=async()=>{if(!token){console.error('No token found');return;}try{const response=await axios.post('https://prestamos-back-production.up.railway.app/trabajadores',{nombre,email,password,role},{headers:{Authorization:`Bearer ${token}`}});console.log('Trabajador agregado:',response.data);navigation.goBack();}catch(error){console.error('Error al agregar trabajador:',error);}};return _jsxs(View,{style:styles.container,children:[_jsx(Text,{style:styles.header,children:\"Agregar Nuevo Trabajador\"}),_jsxs(View,{style:styles.inputContainer,children:[_jsx(Text,{style:styles.label,children:\"Nombre:\"}),_jsx(TextInput,{style:styles.input,placeholder:\"Ingrese el nombre\",value:nombre,onChangeText:setNombre})]}),_jsxs(View,{style:styles.inputContainer,children:[_jsx(Text,{style:styles.label,children:\"Email:\"}),_jsx(TextInput,{style:styles.input,placeholder:\"Ingrese el email\",value:email,onChangeText:setEmail,keyboardType:\"email-address\"})]}),_jsxs(View,{style:styles.inputContainer,children:[_jsx(Text,{style:styles.label,children:\"Contrase\\xF1a:\"}),_jsx(TextInput,{style:styles.input,placeholder:\"Ingrese la contrase\\xF1a\",value:password,onChangeText:setPassword,secureTextEntry:true})]}),_jsxs(View,{style:styles.inputContainer,children:[_jsx(Text,{style:styles.label,children:\"Rol:\"}),_jsxs(Picker,{selectedValue:role,onValueChange:itemValue=>setRole(itemValue),style:styles.picker,children:[_jsx(Picker.Item,{label:\"Trabajador\",value:\"trabajador\"}),_jsx(Picker.Item,{label:\"Admin\",value:\"admin\"})]})]}),_jsx(TouchableOpacity,{style:styles.addButton,onPress:handleAddTrabajador,children:_jsx(Text,{style:styles.addButtonText,children:\"Agregar Trabajador\"})})]});};const styles=StyleSheet.create({container:{flex:1,padding:20,backgroundColor:'#1c1c1e',justifyContent:'center'},header:{fontSize:24,color:'#fff',marginBottom:20,textAlign:'center'},inputContainer:{marginBottom:15},label:{fontSize:16,marginBottom:5,color:'#fff'},input:{height:40,borderColor:'#fff',borderWidth:1,marginBottom:12,paddingHorizontal:10,borderRadius:5,backgroundColor:'#fff',color:'#000'},picker:{height:50,width:'100%',marginBottom:12,backgroundColor:'#fff',color:'#000'},addButton:{backgroundColor:'#28A745',padding:15,width:200,margin:'auto',borderRadius:5,alignItems:'center'},addButtonText:{color:'#fff',fontWeight:'bold'}});export default NuevoTrabajador;","map":{"version":3,"names":["React","useState","useEffect","View","Text","TextInput","TouchableOpacity","StyleSheet","axios","AsyncStorage","Picker","jsx","_jsx","jsxs","_jsxs","NuevoTrabajador","navigation","nombre","setNombre","email","setEmail","password","setPassword","role","setRole","token","setToken","getToken","getItem","handleAddTrabajador","console","error","response","post","headers","Authorization","log","data","goBack","style","styles","container","children","header","inputContainer","label","input","placeholder","value","onChangeText","keyboardType","secureTextEntry","selectedValue","onValueChange","itemValue","picker","Item","addButton","onPress","addButtonText","create","flex","padding","backgroundColor","justifyContent","fontSize","color","marginBottom","textAlign","height","borderColor","borderWidth","paddingHorizontal","borderRadius","width","margin","alignItems","fontWeight"],"sources":["C:/prestamos/prestamos-front/screens/NuevoTrabajador.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Picker } from '@react-native-picker/picker';\n\nconst NuevoTrabajador = ({ navigation }) => {\n    const [nombre, setNombre] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [role, setRole] = useState('trabajador');\n    const [token, setToken] = useState(null);\n\n    useEffect(() => {\n        const getToken = async () => {\n            const token = await AsyncStorage.getItem('token');\n            setToken(token);\n        };\n        \n        getToken();\n    }, []);\n\n    const handleAddTrabajador = async () => {\n        if (!token) {\n            console.error('No token found');\n            return;\n        }\n\n        try {\n            const response = await axios.post('https://prestamos-back-production.up.railway.app/trabajadores', {\n                nombre,\n                email,\n                password,\n                role,\n            }, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            console.log('Trabajador agregado:', response.data);\n            navigation.goBack(); // Volver a la pantalla anterior\n        } catch (error) {\n            console.error('Error al agregar trabajador:', error);\n        }\n    };\n\n    return (\n        <View style={styles.container}>\n            <Text style={styles.header}>Agregar Nuevo Trabajador</Text>\n            <View style={styles.inputContainer}>\n                <Text style={styles.label}>Nombre:</Text>\n                <TextInput \n                    style={styles.input} \n                    placeholder=\"Ingrese el nombre\"\n                    value={nombre} \n                    onChangeText={setNombre} \n                />\n            </View>\n            <View style={styles.inputContainer}>\n                <Text style={styles.label}>Email:</Text>\n                <TextInput \n                    style={styles.input} \n                    placeholder=\"Ingrese el email\"\n                    value={email} \n                    onChangeText={setEmail} \n                    keyboardType=\"email-address\"\n                />\n            </View>\n            <View style={styles.inputContainer}>\n                <Text style={styles.label}>Contraseña:</Text>\n                <TextInput \n                    style={styles.input} \n                    placeholder=\"Ingrese la contraseña\"\n                    value={password} \n                    onChangeText={setPassword} \n                    secureTextEntry \n                />\n            </View>\n            <View style={styles.inputContainer}>\n                <Text style={styles.label}>Rol:</Text>\n                <Picker \n                    selectedValue={role} \n                    onValueChange={(itemValue) => setRole(itemValue)} \n                    style={styles.picker}\n                >\n                    <Picker.Item label=\"Trabajador\" value=\"trabajador\" />\n                    <Picker.Item label=\"Admin\" value=\"admin\" />\n                </Picker>\n            </View>\n            <TouchableOpacity style={styles.addButton} onPress={handleAddTrabajador}>\n                <Text style={styles.addButtonText}>Agregar Trabajador</Text>\n            </TouchableOpacity>\n        </View>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        padding: 20,\n        backgroundColor: '#1c1c1e',\n        justifyContent: 'center',\n    },\n    header: {\n        fontSize: 24,\n        color: '#fff',\n        marginBottom: 20,\n        textAlign: 'center',\n    },\n    inputContainer: {\n        marginBottom: 15,\n    },\n    label: {\n        fontSize: 16,\n        marginBottom: 5,\n        color: '#fff',\n    },\n    input: {\n        height: 40,\n        borderColor: '#fff',\n        borderWidth: 1,\n        marginBottom: 12,\n        paddingHorizontal: 10,\n        borderRadius: 5,\n        backgroundColor: '#fff',\n        color: '#000',\n    },\n    picker: {\n        height: 50,\n        width: '100%',\n        marginBottom: 12,\n        backgroundColor: '#fff',\n        color: '#000',\n    },\n    addButton: {\n        backgroundColor: '#28A745',\n        padding: 15,\n        width: 200,\n        margin: 'auto',\n        borderRadius: 5,\n        alignItems: 'center',\n    },\n    addButtonText: {\n        color: '#fff',\n        fontWeight: 'bold',\n    },\n});\n\nexport default NuevoTrabajador;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,IAAA,iDAAAC,IAAA,iDAAAC,SAAA,sDAAAC,gBAAA,6DAAAC,UAAA,gDAEnD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,YAAY,KAAM,2CAA2C,CACpE,OAASC,MAAM,KAAQ,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,eAAe,CAAGA,CAAC,CAAEC,UAAW,CAAC,GAAK,CACxC,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACkB,KAAK,CAAEC,QAAQ,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACoB,QAAQ,CAAEC,WAAW,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACsB,IAAI,CAAEC,OAAO,CAAC,CAAGvB,QAAQ,CAAC,YAAY,CAAC,CAC9C,KAAM,CAACwB,KAAK,CAAEC,QAAQ,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAyB,QAAQ,CAAG,KAAAA,CAAA,GAAY,CACzB,KAAM,CAAAF,KAAK,CAAG,KAAM,CAAAhB,YAAY,CAACmB,OAAO,CAAC,OAAO,CAAC,CACjDF,QAAQ,CAACD,KAAK,CAAC,CACnB,CAAC,CAEDE,QAAQ,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CAACJ,KAAK,CAAE,CACRK,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAAC,CAC/B,OACJ,CAEA,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAxB,KAAK,CAACyB,IAAI,CAAC,+DAA+D,CAAE,CAC/FhB,MAAM,CACNE,KAAK,CACLE,QAAQ,CACRE,IACJ,CAAC,CAAE,CACCW,OAAO,CAAE,CACLC,aAAa,CAAE,UAAUV,KAAK,EAClC,CACJ,CAAC,CAAC,CACFK,OAAO,CAACM,GAAG,CAAC,sBAAsB,CAAEJ,QAAQ,CAACK,IAAI,CAAC,CAClDrB,UAAU,CAACsB,MAAM,CAAC,CAAC,CACvB,CAAE,MAAOP,KAAK,CAAE,CACZD,OAAO,CAACC,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACxD,CACJ,CAAC,CAED,MACI,CAAAjB,KAAA,CAACX,IAAI,EAACoC,KAAK,CAAEC,MAAM,CAACC,SAAU,CAAAC,QAAA,EAC1B9B,IAAA,CAACR,IAAI,EAACmC,KAAK,CAAEC,MAAM,CAACG,MAAO,CAAAD,QAAA,CAAC,0BAAwB,CAAM,CAAC,CAC3D5B,KAAA,CAACX,IAAI,EAACoC,KAAK,CAAEC,MAAM,CAACI,cAAe,CAAAF,QAAA,EAC/B9B,IAAA,CAACR,IAAI,EAACmC,KAAK,CAAEC,MAAM,CAACK,KAAM,CAAAH,QAAA,CAAC,SAAO,CAAM,CAAC,CACzC9B,IAAA,CAACP,SAAS,EACNkC,KAAK,CAAEC,MAAM,CAACM,KAAM,CACpBC,WAAW,CAAC,mBAAmB,CAC/BC,KAAK,CAAE/B,MAAO,CACdgC,YAAY,CAAE/B,SAAU,CAC3B,CAAC,EACA,CAAC,CACPJ,KAAA,CAACX,IAAI,EAACoC,KAAK,CAAEC,MAAM,CAACI,cAAe,CAAAF,QAAA,EAC/B9B,IAAA,CAACR,IAAI,EAACmC,KAAK,CAAEC,MAAM,CAACK,KAAM,CAAAH,QAAA,CAAC,QAAM,CAAM,CAAC,CACxC9B,IAAA,CAACP,SAAS,EACNkC,KAAK,CAAEC,MAAM,CAACM,KAAM,CACpBC,WAAW,CAAC,kBAAkB,CAC9BC,KAAK,CAAE7B,KAAM,CACb8B,YAAY,CAAE7B,QAAS,CACvB8B,YAAY,CAAC,eAAe,CAC/B,CAAC,EACA,CAAC,CACPpC,KAAA,CAACX,IAAI,EAACoC,KAAK,CAAEC,MAAM,CAACI,cAAe,CAAAF,QAAA,EAC/B9B,IAAA,CAACR,IAAI,EAACmC,KAAK,CAAEC,MAAM,CAACK,KAAM,CAAAH,QAAA,CAAC,gBAAW,CAAM,CAAC,CAC7C9B,IAAA,CAACP,SAAS,EACNkC,KAAK,CAAEC,MAAM,CAACM,KAAM,CACpBC,WAAW,CAAC,0BAAuB,CACnCC,KAAK,CAAE3B,QAAS,CAChB4B,YAAY,CAAE3B,WAAY,CAC1B6B,eAAe,MAClB,CAAC,EACA,CAAC,CACPrC,KAAA,CAACX,IAAI,EAACoC,KAAK,CAAEC,MAAM,CAACI,cAAe,CAAAF,QAAA,EAC/B9B,IAAA,CAACR,IAAI,EAACmC,KAAK,CAAEC,MAAM,CAACK,KAAM,CAAAH,QAAA,CAAC,MAAI,CAAM,CAAC,CACtC5B,KAAA,CAACJ,MAAM,EACH0C,aAAa,CAAE7B,IAAK,CACpB8B,aAAa,CAAGC,SAAS,EAAK9B,OAAO,CAAC8B,SAAS,CAAE,CACjDf,KAAK,CAAEC,MAAM,CAACe,MAAO,CAAAb,QAAA,EAErB9B,IAAA,CAACF,MAAM,CAAC8C,IAAI,EAACX,KAAK,CAAC,YAAY,CAACG,KAAK,CAAC,YAAY,CAAE,CAAC,CACrDpC,IAAA,CAACF,MAAM,CAAC8C,IAAI,EAACX,KAAK,CAAC,OAAO,CAACG,KAAK,CAAC,OAAO,CAAE,CAAC,EACvC,CAAC,EACP,CAAC,CACPpC,IAAA,CAACN,gBAAgB,EAACiC,KAAK,CAAEC,MAAM,CAACiB,SAAU,CAACC,OAAO,CAAE7B,mBAAoB,CAAAa,QAAA,CACpE9B,IAAA,CAACR,IAAI,EAACmC,KAAK,CAAEC,MAAM,CAACmB,aAAc,CAAAjB,QAAA,CAAC,oBAAkB,CAAM,CAAC,CAC9C,CAAC,EACjB,CAAC,CAEf,CAAC,CAED,KAAM,CAAAF,MAAM,CAAGjC,UAAU,CAACqD,MAAM,CAAC,CAC7BnB,SAAS,CAAE,CACPoB,IAAI,CAAE,CAAC,CACPC,OAAO,CAAE,EAAE,CACXC,eAAe,CAAE,SAAS,CAC1BC,cAAc,CAAE,QACpB,CAAC,CACDrB,MAAM,CAAE,CACJsB,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,MAAM,CACbC,YAAY,CAAE,EAAE,CAChBC,SAAS,CAAE,QACf,CAAC,CACDxB,cAAc,CAAE,CACZuB,YAAY,CAAE,EAClB,CAAC,CACDtB,KAAK,CAAE,CACHoB,QAAQ,CAAE,EAAE,CACZE,YAAY,CAAE,CAAC,CACfD,KAAK,CAAE,MACX,CAAC,CACDpB,KAAK,CAAE,CACHuB,MAAM,CAAE,EAAE,CACVC,WAAW,CAAE,MAAM,CACnBC,WAAW,CAAE,CAAC,CACdJ,YAAY,CAAE,EAAE,CAChBK,iBAAiB,CAAE,EAAE,CACrBC,YAAY,CAAE,CAAC,CACfV,eAAe,CAAE,MAAM,CACvBG,KAAK,CAAE,MACX,CAAC,CACDX,MAAM,CAAE,CACJc,MAAM,CAAE,EAAE,CACVK,KAAK,CAAE,MAAM,CACbP,YAAY,CAAE,EAAE,CAChBJ,eAAe,CAAE,MAAM,CACvBG,KAAK,CAAE,MACX,CAAC,CACDT,SAAS,CAAE,CACPM,eAAe,CAAE,SAAS,CAC1BD,OAAO,CAAE,EAAE,CACXY,KAAK,CAAE,GAAG,CACVC,MAAM,CAAE,MAAM,CACdF,YAAY,CAAE,CAAC,CACfG,UAAU,CAAE,QAChB,CAAC,CACDjB,aAAa,CAAE,CACXO,KAAK,CAAE,MAAM,CACbW,UAAU,CAAE,MAChB,CACJ,CAAC,CAAC,CAEF,cAAe,CAAA9D,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}