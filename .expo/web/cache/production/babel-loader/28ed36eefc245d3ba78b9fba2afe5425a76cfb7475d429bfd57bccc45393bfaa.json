{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import React,{useState,useEffect,useRef}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import FlatList from\"react-native-web/dist/exports/FlatList\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Alert from\"react-native-web/dist/exports/Alert\";import axios from'axios';import{useNavigation}from'@react-navigation/native';import AsyncStorage from'@react-native-async-storage/async-storage';import AbonoForm from'../components/AbonoForm';import MultaForm from'../components/MultaForm';import DropDownPicker from'react-native-dropdown-picker';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ClienteDetails=({route})=>{const{id}=route.params;const[cliente,setCliente]=useState(null);const[abonos,setAbonos]=useState([]);const[multas,setMultas]=useState([]);const[multasVisible,setMultasVisible]=useState(false);const[formData,setFormData]=useState({day:null,type:null});const[pendingDays,setPendingDays]=useState([]);const[hiddenDays,setHiddenDays]=useState([]);const[daysVisible,setDaysVisible]=useState(true);const[paidDaysVisible,setPaidDaysVisible]=useState(true);const[canRenew,setCanRenew]=useState(false);const[showRenewInput,setShowRenewInput]=useState(false);const[renewAmount,setRenewAmount]=useState('');const[amountValid,setAmountValid]=useState(false);const[fechaTermino,setFechaTermino]=useState('');const[open,setOpen]=useState(false);const[newInitialAmount,setNewInitialAmount]=useState('');const[items,setItems]=useState([{label:'Seleccionar fecha',value:''},{label:'15 días',value:'15 días'},{label:'20 días',value:'20 días'}]);const isFormValid=amountValid&&renewAmount!==''&&fechaTermino!==null;const navigation=useNavigation();useEffect(()=>{fetchDetails();loadPendingDays();loadHiddenDays();},[]);useEffect(()=>{savePendingDays();},[pendingDays]);useEffect(()=>{saveHiddenDays();},[hiddenDays]);useEffect(()=>{checkRenewalEligibility();},[abonos]);useEffect(()=>{if(cliente?.estado==='completado'){Alert.alert(\"Pagos Completados\",\"El cliente ha completado todos los pagos.\",[{text:\"Aceptar\",onPress:()=>navigation.navigate('WorkerDashboard')}]);}},[cliente]);const fetchDetails=async()=>{try{const token=await AsyncStorage.getItem('token');if(!token){console.error('No token found');return;}const clienteResponse=await axios.get(`https://prestamos-back-production.up.railway.app/clientes/${id}`,{headers:{Authorization:`Bearer ${token}`}});setCliente(clienteResponse.data);const abonosResponse=await axios.get(`https://prestamos-back-production.up.railway.app/clientes/${id}/abonos`,{headers:{Authorization:`Bearer ${token}`}});setAbonos(abonosResponse.data);const multasResponse=await axios.get(`https://prestamos-back-production.up.railway.app/clientes/${id}/multas`,{headers:{Authorization:`Bearer ${token}`}});setMultas(multasResponse.data);}catch(error){console.error('Error fetching details:',error);}};const loadPendingDays=async()=>{try{const storedPendingDays=await AsyncStorage.getItem(`pendingDays_${id}`);if(storedPendingDays){setPendingDays(JSON.parse(storedPendingDays));}}catch(error){console.error('Error loading pending days:',error);}};const savePendingDays=async()=>{try{await AsyncStorage.setItem(`pendingDays_${id}`,JSON.stringify(pendingDays));}catch(error){console.error('Error saving pending days:',error);}};const loadHiddenDays=async()=>{try{const storedHiddenDays=await AsyncStorage.getItem(`hiddenDays_${id}`);if(storedHiddenDays){setHiddenDays(JSON.parse(storedHiddenDays));}}catch(error){console.error('Error loading hidden days:',error);}};const saveHiddenDays=async()=>{try{await AsyncStorage.setItem(`hiddenDays_${id}`,JSON.stringify(hiddenDays));}catch(error){console.error('Error saving hidden days:',error);}};const handleAddAbono=()=>{if(cliente.estado==='completado'){Alert.alert('Acción no permitida','No se pueden agregar más abonos, el cliente está completado.');return;}fetchDetails();setFormData({day:null,type:null});Alert.alert('Pago agregado con éxito','El pago se ha agregado correctamente.');};const handleAddMulta=async()=>{const today=new Date().toISOString().split('T')[0];const lastActionDate=await AsyncStorage.getItem(`lastActionDate_${id}_multa`);if(lastActionDate===today){Alert.alert('Acción no permitida','Solo puedes agregar una multa por día.');return;}await AsyncStorage.setItem(`lastActionDate_${id}_multa`,today);fetchDetails();setFormData({day:null,type:null});Alert.alert('Multa agregada con éxito','La multa se ha agregado correctamente.');};const markAsPending=dayStr=>{setPendingDays(prevPendingDays=>[...prevPendingDays,dayStr]);Alert.alert('Día Pendiente','El día queda pendiente para pago y multa.');};const markAsPaid=dayStr=>{setPendingDays(prevPendingDays=>prevPendingDays.filter(day=>day!==dayStr));setHiddenDays(prevHiddenDays=>[...prevHiddenDays,dayStr]);checkRenewalEligibility();};const formatDateToMexican=dateStr=>{const date=new Date(dateStr);const day=date.getDate().toString().padStart(2,'0');const month=(date.getMonth()+1).toString().padStart(2,'0');const year=date.getFullYear();return`${day}/${month}/${year}`;};const checkRenewalEligibility=()=>{if(abonos.length>=5){setCanRenew(true);}else{setCanRenew(false);}};const handleRenewLoan=()=>{setShowRenewInput(true);};const handleConfirmRenewal=async()=>{const remainingAmount=cliente.monto_actual;if(renewAmount===''){Alert.alert('Error','Por favor ingresa el monto para renovar el préstamo.');return;}const amountToRenew=parseFloat(renewAmount);const tolerance=0.01;if(Math.abs(amountToRenew-remainingAmount)>tolerance){Alert.alert('Error',`La cantidad ingresada debe ser exactamente ${remainingAmount}.`);return;}try{const token=await AsyncStorage.getItem('token');if(!token){console.error('No token found');return;}const interestRate=0.30;const newAmountInitial=parseFloat(newInitialAmount);const newAmountWithInterest=newAmountInitial*(1+interestRate);const fechaInicio=new Date();fechaInicio.setDate(fechaInicio.getDate()+2);let newFechaTermino;if(fechaTermino==='15 días'){newFechaTermino=new Date(fechaInicio);newFechaTermino.setDate(newFechaTermino.getDate()+14);}else if(fechaTermino==='20 días'){newFechaTermino=new Date(fechaInicio);newFechaTermino.setDate(newFechaTermino.getDate()+19);}const formattedFechaInicio=fechaInicio.toISOString().split('T')[0];const formattedFechaTermino=newFechaTermino.toISOString().split('T')[0];const updatedClient={nombre:cliente.nombre,ocupacion:cliente.ocupacion,direccion:cliente.direccion,telefono:cliente.telefono,estado:cliente.estado,monto_inicial:newAmountInitial,monto_actual:newAmountWithInterest,fecha_inicio:formattedFechaInicio,fecha_termino:formattedFechaTermino};await axios.put(`https://prestamos-back-production.up.railway.app/clientes/${id}`,updatedClient,{headers:{Authorization:`Bearer ${token}`}});setCliente(prevCliente=>_objectSpread(_objectSpread({},prevCliente),updatedClient));setPendingDays([]);setHiddenDays([]);setShowRenewInput(false);Alert.alert('Renovación exitosa','El préstamo ha sido renovado correctamente.');}catch(error){console.error('Error al renovar el préstamo:',error);Alert.alert('Error','Hubo un problema al renovar el préstamo.');}};const handleAmountChange=text=>{setRenewAmount(text);const amountToRenew=parseFloat(text);const remainingAmount=cliente.monto_actual;if(Math.abs(amountToRenew-remainingAmount)<=0.01){setAmountValid(true);}else{setAmountValid(false);}};const handleNewAmountInitialChange=text=>{setNewInitialAmount(text);};const handleRenewalDaysChange=value=>{setFechaTermino(value);};const renderDaysCards=()=>{if(!cliente)return null;const startDate=new Date(cliente.fecha_inicio);const endDate=new Date(cliente.fecha_termino);const daysArray=[];let currentDate=new Date(startDate);let dayCount=1;while(currentDate<=endDate){const dayStr=currentDate.toISOString().split('T')[0];const abonoForDay=abonos.find(abono=>abono.fecha===dayStr);const multaForDay=multas.find(multa=>multa.fecha===dayStr);const isPending=pendingDays.includes(dayStr);const isPaid=abonoForDay||multaForDay?!isPending:false;const isHidden=hiddenDays.includes(dayStr);if(isHidden){currentDate.setDate(currentDate.getDate()+1);dayCount++;continue;}daysArray.push(_jsxs(View,{style:[styles.dayCard,isPaid?styles.paidCard:isPending?styles.pendingCard:styles.defaultCard],children:[_jsxs(Text,{style:styles.cardText,children:[\"D\\xEDa \",dayCount,\": \",formatDateToMexican(currentDate)]}),_jsxs(View,{style:styles.buttonsContainer,children:[_jsx(TouchableOpacity,{onPress:()=>setFormData({day:dayStr,type:'abono'}),style:styles.abonoButton,children:_jsx(Text,{style:styles.buttonText,children:\"Pago\"})}),_jsx(TouchableOpacity,{onPress:()=>setFormData({day:dayStr,type:'multa'}),style:styles.multaButton,children:_jsx(Text,{style:styles.buttonText,children:\"Multa\"})}),!abonoForDay&&_jsx(TouchableOpacity,{onPress:()=>markAsPending(dayStr),style:[styles.pendienteButton,{backgroundColor:'orange'}],children:_jsx(Text,{style:styles.buttonText,children:\"Pendiente\"})})]}),formData.day===dayStr&&formData.type==='abono'&&_jsx(View,{style:styles.formContainer,children:_jsx(AbonoForm,{clienteId:id,onAddAbono:()=>{handleAddAbono();markAsPaid(dayStr);}})}),formData.day===dayStr&&formData.type==='multa'&&_jsx(View,{style:styles.formContainer,children:_jsx(MultaForm,{clienteId:id,selectedDay:dayStr,onMultaAdded:()=>{handleAddMulta();markAsPending(dayStr);}})})]},currentDate.toISOString()));currentDate.setDate(currentDate.getDate()+1);dayCount++;}return _jsx(ScrollView,{children:_jsx(FlatList,{data:daysArray,renderItem:({item})=>item,keyExtractor:(item,index)=>index.toString()})});};const renderAbonosList=()=>{if(abonos.length===0){return _jsx(Text,{style:styles.noAbonosText,children:\"No hay pagos registrados.\"});}return _jsx(FlatList,{data:abonos,renderItem:({item})=>_jsxs(View,{style:styles.abonoCard,children:[_jsxs(Text,{style:styles.abonoText,children:[\"Fecha: \",formatDateToMexican(item.fecha)]}),_jsxs(Text,{style:styles.abonoText,children:[\"Cantidad: $\",item.monto]})]}),keyExtractor:item=>item.id.toString()});};const renderMultasList=()=>{if(multas.length===0){return _jsx(Text,{style:styles.noAbonosText,children:\"No hay multas registradas.\"});}return _jsx(FlatList,{data:multas,renderItem:({item})=>_jsxs(View,{style:styles.multaCard,children:[_jsxs(Text,{style:styles.abonoText,children:[\"Fecha: \",formatDateToMexican(item.fecha)]}),_jsxs(Text,{style:styles.abonoText,children:[\"Cantidad: $\",item.monto]})]}),keyExtractor:item=>item.id.toString()});};return _jsx(ScrollView,{contentContainerStyle:styles.container,children:cliente&&_jsxs(View,{children:[_jsxs(View,{style:styles.detallesCliente,children:[_jsx(Text,{style:styles.title,children:\"Detalles del cliente\"}),_jsxs(Text,{style:styles.text,children:[\"Nombre: \",cliente.nombre]}),_jsxs(Text,{style:styles.text,children:[\"Fecha de Inicio: \",formatDateToMexican(cliente.fecha_inicio)]}),_jsxs(Text,{style:styles.text,children:[\"Fecha de T\\xE9rmino: \",formatDateToMexican(cliente.fecha_termino)]}),_jsxs(Text,{style:styles.text,children:[\"Estado: \",cliente.estado]}),_jsxs(Text,{style:styles.text,children:[\"Monto inicial: $\",cliente.monto_inicial]}),_jsxs(Text,{style:styles.text,children:[\"Monto actual: $\",cliente.monto_actual]})]}),canRenew&&!showRenewInput&&_jsx(TouchableOpacity,{onPress:handleRenewLoan,style:[styles.button,{marginBottom:10,backgroundColor:'green'}],children:_jsx(Text,{style:styles.buttonText,children:\"Renovar Pr\\xE9stamo\"})}),showRenewInput&&_jsxs(View,{style:styles.RenovarPrestamo,children:[_jsx(Text,{style:styles.cardText,children:\"Ingrese el monto para renovar el pr\\xE9stamo:\"}),_jsxs(Text,{style:[styles.cardText,{color:amountValid?'green':'red'}],children:[\"Monto requerido: $\",cliente?.monto_actual]}),_jsx(TextInput,{style:styles.input,placeholder:\"Monto\",value:renewAmount,onChangeText:handleAmountChange,keyboardType:\"numeric\"}),_jsx(Text,{style:styles.cardText,children:\"Ingrese el nuevo monto\"}),_jsx(TextInput,{style:[styles.input,{backgroundColor:amountValid?'#fff':'#f0f0f0'}],placeholder:\"Nuevo monto\",value:newInitialAmount,onChangeText:handleNewAmountInitialChange,keyboardType:\"numeric\",editable:amountValid}),_jsx(Text,{style:styles.label,children:\"Fecha de T\\xE9rmino:\"}),_jsx(DropDownPicker,{open:open,value:fechaTermino,items:items,setOpen:setOpen,setValue:handleRenewalDaysChange,setItems:setItems,placeholder:\"Seleccione la nueva fecha de t\\xE9rmino\",style:styles.dropdown}),_jsx(TouchableOpacity,{onPress:isFormValid?handleConfirmRenewal:null,style:[styles.button,{marginTop:10,backgroundColor:isFormValid?'green':'gray'}],disabled:!isFormValid,children:_jsx(Text,{style:styles.buttonText,children:\"Confirmar Renovaci\\xF3n\"})}),_jsx(TouchableOpacity,{onPress:()=>setShowRenewInput(false),style:[styles.button,{backgroundColor:'red',marginTop:10}],children:_jsx(Text,{style:styles.buttonText,children:\"Cancelar\"})})]}),_jsx(TouchableOpacity,{onPress:()=>setDaysVisible(!daysVisible),style:[styles.button,{marginBottom:10,marginTop:10}],children:_jsx(Text,{style:styles.buttonText,children:daysVisible?'Ocultar Días':'Mostrar Días'})}),daysVisible&&renderDaysCards(),_jsx(TouchableOpacity,{onPress:()=>setPaidDaysVisible(!paidDaysVisible),style:[styles.button,{marginBottom:10,marginTop:10}],children:_jsx(Text,{style:styles.buttonText,children:paidDaysVisible?'Ocultar Abonos':'Mostrar Abonos'})}),paidDaysVisible&&renderAbonosList(),_jsx(TouchableOpacity,{onPress:()=>setMultasVisible(!multasVisible),style:[styles.button,{marginBottom:10,marginTop:10}],children:_jsx(Text,{style:styles.buttonText,children:multasVisible?'Ocultar Multas':'Mostrar Multas'})}),multasVisible&&renderMultasList()]})});};const styles=StyleSheet.create({container:{padding:16,backgroundColor:'#1c1c1e',height:'100%'},detallesCliente:{backgroundColor:'#E8E8E8',borderRadius:8,padding:20,marginBottom:10},input:{borderWidth:1,borderColor:'#ccc',padding:10,borderRadius:8,marginBottom:10,fontSize:16},title:{fontSize:24,fontWeight:'bold',marginBottom:16},text:{fontSize:16,marginBottom:8},button:{backgroundColor:'#007bff',paddingVertical:8,paddingHorizontal:10,borderRadius:5,width:'80%',margin:'auto',justifyContent:'center',alignItems:'center'},buttonText:{color:'#fff',fontSize:16},dayCard:{padding:12,marginBottom:10,borderRadius:8,backgroundColor:'#E8E8E8',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:0.1,shadowRadius:4,elevation:3},cardText:{fontSize:16,fontWeight:'bold',marginBottom:16},RenovarPrestamo:{backgroundColor:'#E9F0C2',borderRadius:8,padding:20,marginBottom:10},abonoCard:{padding:12,marginBottom:10,borderRadius:8,backgroundColor:'#CBE5C4',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:0.1,shadowRadius:4,elevation:3},multaCard:{padding:12,marginBottom:10,borderRadius:8,backgroundColor:'#EFC3CA',shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:0.1,shadowRadius:4,elevation:3},abonoText:{fontSize:16,marginBottom:8},noAbonosText:{fontSize:16,textAlign:'center',marginTop:10,marginBottom:10,color:'#888'},paidCard:{backgroundColor:'#d4edda'},pendingCard:{backgroundColor:'#fff3cd'},defaultCard:{backgroundColor:'#E8E8E8'},buttonsContainer:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',marginTop:10},abonoButton:{backgroundColor:'#4CAF50',paddingVertical:8,paddingHorizontal:10,borderRadius:5,width:'30%',justifyContent:'center',alignItems:'center'},multaButton:{backgroundColor:'#F44336',paddingVertical:8,paddingHorizontal:10,borderRadius:5,width:'30%',justifyContent:'center',alignItems:'center'},pendienteButton:{backgroundColor:'#FFEB3B',paddingVertical:8,paddingHorizontal:10,borderRadius:5,width:'30%',justifyContent:'center',alignItems:'center'},buttonText:{fontSize:14,fontWeight:'bold',color:'#FFF',textAlign:'center'},formContainer:{marginTop:15}});export default ClienteDetails;","map":{"version":3,"names":["React","useState","useEffect","useRef","View","Text","FlatList","TouchableOpacity","StyleSheet","ScrollView","TextInput","Alert","axios","useNavigation","AsyncStorage","AbonoForm","MultaForm","DropDownPicker","jsxs","_jsxs","jsx","_jsx","ClienteDetails","route","id","params","cliente","setCliente","abonos","setAbonos","multas","setMultas","multasVisible","setMultasVisible","formData","setFormData","day","type","pendingDays","setPendingDays","hiddenDays","setHiddenDays","daysVisible","setDaysVisible","paidDaysVisible","setPaidDaysVisible","canRenew","setCanRenew","showRenewInput","setShowRenewInput","renewAmount","setRenewAmount","amountValid","setAmountValid","fechaTermino","setFechaTermino","open","setOpen","newInitialAmount","setNewInitialAmount","items","setItems","label","value","isFormValid","navigation","fetchDetails","loadPendingDays","loadHiddenDays","savePendingDays","saveHiddenDays","checkRenewalEligibility","estado","alert","text","onPress","navigate","token","getItem","console","error","clienteResponse","get","headers","Authorization","data","abonosResponse","multasResponse","storedPendingDays","JSON","parse","setItem","stringify","storedHiddenDays","handleAddAbono","handleAddMulta","today","Date","toISOString","split","lastActionDate","markAsPending","dayStr","prevPendingDays","markAsPaid","filter","prevHiddenDays","formatDateToMexican","dateStr","date","getDate","toString","padStart","month","getMonth","year","getFullYear","length","handleRenewLoan","handleConfirmRenewal","remainingAmount","monto_actual","amountToRenew","parseFloat","tolerance","Math","abs","interestRate","newAmountInitial","newAmountWithInterest","fechaInicio","setDate","newFechaTermino","formattedFechaInicio","formattedFechaTermino","updatedClient","nombre","ocupacion","direccion","telefono","monto_inicial","fecha_inicio","fecha_termino","put","prevCliente","_objectSpread","handleAmountChange","handleNewAmountInitialChange","handleRenewalDaysChange","renderDaysCards","startDate","endDate","daysArray","currentDate","dayCount","abonoForDay","find","abono","fecha","multaForDay","multa","isPending","includes","isPaid","isHidden","push","style","styles","dayCard","paidCard","pendingCard","defaultCard","children","cardText","buttonsContainer","abonoButton","buttonText","multaButton","pendienteButton","backgroundColor","formContainer","clienteId","onAddAbono","selectedDay","onMultaAdded","renderItem","item","keyExtractor","index","renderAbonosList","noAbonosText","abonoCard","abonoText","monto","renderMultasList","multaCard","contentContainerStyle","container","detallesCliente","title","button","marginBottom","RenovarPrestamo","color","input","placeholder","onChangeText","keyboardType","editable","setValue","dropdown","marginTop","disabled","create","padding","height","borderRadius","borderWidth","borderColor","fontSize","fontWeight","paddingVertical","paddingHorizontal","width","margin","justifyContent","alignItems","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","textAlign","flexDirection"],"sources":["C:/prestamos/prestamos-front/screens/ClienteDetails.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, FlatList, TouchableOpacity, StyleSheet, ScrollView, TextInput, Alert } from 'react-native';\nimport axios from 'axios';\nimport { useNavigation } from '@react-navigation/native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport AbonoForm from '../components/AbonoForm';\nimport MultaForm from '../components/MultaForm';\nimport DropDownPicker from 'react-native-dropdown-picker';\n\n\n\n\nconst ClienteDetails = ({ route }) => {\n    const { id } = route.params;\n    const [cliente, setCliente] = useState(null);\n    const [abonos, setAbonos] = useState([]);\n    const [multas, setMultas] = useState([]);\n    const [multasVisible, setMultasVisible] = useState(false);\n    const [formData, setFormData] = useState({ day: null, type: null });\n    const [pendingDays, setPendingDays] = useState([]);\n    const [hiddenDays, setHiddenDays] = useState([]);\n    const [daysVisible, setDaysVisible] = useState(true);\n    const [paidDaysVisible, setPaidDaysVisible] = useState(true);\n    const [canRenew, setCanRenew] = useState(false); // Nuevo estado para controlar la opción de renovación\n    const [showRenewInput, setShowRenewInput] = useState(false);\n    const [renewAmount, setRenewAmount] = useState('');\n    const [amountValid, setAmountValid] = useState(false);\n    const [fechaTermino, setFechaTermino] = useState('');\n    const [open, setOpen] = useState(false);\n    const [newInitialAmount, setNewInitialAmount] = useState('');\n    const [items, setItems] = useState([\n        { label: 'Seleccionar fecha', value: '' },\n        { label: '15 días', value: '15 días' },\n        { label: '20 días', value: '20 días' },\n    ]);\n    const isFormValid = amountValid && renewAmount !== '' && fechaTermino !== null;\n\n    const navigation = useNavigation();\n\n    useEffect(() => {\n        fetchDetails();\n        loadPendingDays();\n        loadHiddenDays();\n    }, []);\n\n    useEffect(() => {\n        savePendingDays();\n    }, [pendingDays]);\n\n    useEffect(() => {\n        saveHiddenDays();\n    }, [hiddenDays]);\n\n    useEffect(() => {\n        checkRenewalEligibility(); // Verificar si se puede renovar después de cargar los abonos\n    }, [abonos]);\n\n    useEffect(() => {\n        if (cliente?.estado === 'completado') {\n            Alert.alert(\n                \"Pagos Completados\",\n                \"El cliente ha completado todos los pagos.\",\n                [\n                    {\n                        text: \"Aceptar\",\n                        onPress: () => navigation.navigate('WorkerDashboard')\n                    }\n                ]\n            );\n        }\n    }, [cliente]);\n\n    const fetchDetails = async () => {\n        try {\n            const token = await AsyncStorage.getItem('token');\n            if (!token) {\n                console.error('No token found');\n                return;\n            }\n\n            const clienteResponse = await axios.get(`https://prestamos-back-production.up.railway.app/clientes/${id}`, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            setCliente(clienteResponse.data);\n\n            const abonosResponse = await axios.get(`https://prestamos-back-production.up.railway.app/clientes/${id}/abonos`, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            setAbonos(abonosResponse.data);\n\n            const multasResponse = await axios.get(`https://prestamos-back-production.up.railway.app/clientes/${id}/multas`, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            setMultas(multasResponse.data);\n        } catch (error) {\n            console.error('Error fetching details:', error);\n        }\n    };\n\n    const loadPendingDays = async () => {\n        try {\n            const storedPendingDays = await AsyncStorage.getItem(`pendingDays_${id}`);\n            if (storedPendingDays) {\n                setPendingDays(JSON.parse(storedPendingDays));\n            }\n        } catch (error) {\n            console.error('Error loading pending days:', error);\n        }\n    };\n\n    const savePendingDays = async () => {\n        try {\n            await AsyncStorage.setItem(`pendingDays_${id}`, JSON.stringify(pendingDays));\n        } catch (error) {\n            console.error('Error saving pending days:', error);\n        }\n    };\n\n    const loadHiddenDays = async () => {\n        try {\n            const storedHiddenDays = await AsyncStorage.getItem(`hiddenDays_${id}`);\n            if (storedHiddenDays) {\n                setHiddenDays(JSON.parse(storedHiddenDays));\n            }\n        } catch (error) {\n            console.error('Error loading hidden days:', error);\n        }\n    };\n\n    const saveHiddenDays = async () => {\n        try {\n            await AsyncStorage.setItem(`hiddenDays_${id}`, JSON.stringify(hiddenDays));\n        } catch (error) {\n            console.error('Error saving hidden days:', error);\n        }\n    };\n\n    const handleAddAbono = () => {\n        if (cliente.estado === 'completado') {\n            Alert.alert('Acción no permitida', 'No se pueden agregar más abonos, el cliente está completado.');\n            return;\n        }\n\n        fetchDetails();\n        setFormData({ day: null, type: null });\n        Alert.alert('Pago agregado con éxito', 'El pago se ha agregado correctamente.');\n    };\n\n    const handleAddMulta = async () => {\n        const today = new Date().toISOString().split('T')[0];\n        const lastActionDate = await AsyncStorage.getItem(`lastActionDate_${id}_multa`);\n\n        if (lastActionDate === today) {\n            Alert.alert('Acción no permitida', 'Solo puedes agregar una multa por día.');\n            return;\n        }\n\n        await AsyncStorage.setItem(`lastActionDate_${id}_multa`, today);\n        fetchDetails();\n        setFormData({ day: null, type: null });\n        Alert.alert('Multa agregada con éxito', 'La multa se ha agregado correctamente.');\n    };\n\n\n\n\n    const markAsPending = (dayStr) => {\n        setPendingDays((prevPendingDays) => [...prevPendingDays, dayStr]);\n        Alert.alert('Día Pendiente', 'El día queda pendiente para pago y multa.');\n    };\n\n    const markAsPaid = (dayStr) => {\n        setPendingDays((prevPendingDays) => prevPendingDays.filter(day => day !== dayStr));\n        setHiddenDays((prevHiddenDays) => [...prevHiddenDays, dayStr]);\n        checkRenewalEligibility();\n    };\n\n    const formatDateToMexican = (dateStr) => {\n        const date = new Date(dateStr);\n        const day = date.getDate().toString().padStart(2, '0');\n        const month = (date.getMonth() + 1).toString().padStart(2, '0');\n        const year = date.getFullYear();\n        return `${day}/${month}/${year}`;\n    };\n\n    const checkRenewalEligibility = () => {\n        if (abonos.length >= 5) {\n            setCanRenew(true);\n        } else {\n            setCanRenew(false);\n        }\n    };\n\n    const handleRenewLoan = () => {\n        setShowRenewInput(true);\n    };\n    const handleConfirmRenewal = async () => {\n        const remainingAmount = cliente.monto_actual;\n    \n        if (renewAmount === '') {\n            Alert.alert('Error', 'Por favor ingresa el monto para renovar el préstamo.');\n            return;\n        }\n    \n        const amountToRenew = parseFloat(renewAmount);\n        const tolerance = 0.01;\n        if (Math.abs(amountToRenew - remainingAmount) > tolerance) {\n            Alert.alert('Error', `La cantidad ingresada debe ser exactamente ${remainingAmount}.`);\n            return;\n        }\n    \n        try {\n            const token = await AsyncStorage.getItem('token');\n            if (!token) {\n                console.error('No token found');\n                return;\n            }\n    \n            // Calcular el nuevo monto con el 30% de interés\n            const interestRate = 0.30;\n            const newAmountInitial = parseFloat(newInitialAmount);\n            const newAmountWithInterest = newAmountInitial * (1 + interestRate);\n    \n            // Nueva fecha de inicio\n            const fechaInicio = new Date(); // Crear una nueva instancia de Date\n            fechaInicio.setDate(fechaInicio.getDate() + 2); // Sumar 1 día a la fecha actual\n    \n            let newFechaTermino;\n            if (fechaTermino === '15 días') {\n                newFechaTermino = new Date(fechaInicio);\n                newFechaTermino.setDate(newFechaTermino.getDate() + 14); // Agrega 14 días (para completar 15 días)\n            } else if (fechaTermino === '20 días') {\n                newFechaTermino = new Date(fechaInicio);\n                newFechaTermino.setDate(newFechaTermino.getDate() + 19); // Agrega 19 días (para completar 20 días)\n            }\n    \n            // Formatear la fecha en un formato aceptable para la base de datos (ISO8601)\n            const formattedFechaInicio = fechaInicio.toISOString().split('T')[0];\n            const formattedFechaTermino = newFechaTermino.toISOString().split('T')[0];\n    \n            const updatedClient = {\n                nombre: cliente.nombre,           // Mantener nombre existente\n                ocupacion: cliente.ocupacion,     // Mantener ocupación existente\n                direccion: cliente.direccion,     // Mantener dirección existente\n                telefono: cliente.telefono,       // Mantener teléfono existente\n                estado: cliente.estado,           // Mantener estado existente\n                monto_inicial: newAmountInitial,  // Nuevo monto inicial\n                monto_actual: newAmountWithInterest, // Nuevo monto con interés\n                fecha_inicio: formattedFechaInicio, // Nueva fecha de inicio\n                fecha_termino: formattedFechaTermino // Nueva fecha de término\n            };\n    \n            await axios.put(`https://prestamos-back-production.up.railway.app/clientes/${id}`, updatedClient, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n    \n            setCliente(prevCliente => ({\n                ...prevCliente,\n                ...updatedClient\n            }));\n    \n            // Reiniciar el array de días al primer día\n            setPendingDays([]);\n            setHiddenDays([]);\n    \n            setShowRenewInput(false);\n            Alert.alert('Renovación exitosa', 'El préstamo ha sido renovado correctamente.');\n        } catch (error) {\n            console.error('Error al renovar el préstamo:', error);\n            Alert.alert('Error', 'Hubo un problema al renovar el préstamo.');\n        }\n    };\n    \n\n\n\n    const handleAmountChange = (text) => {\n        setRenewAmount(text);\n        const amountToRenew = parseFloat(text);\n        const remainingAmount = cliente.monto_actual;\n        if (Math.abs(amountToRenew - remainingAmount) <= 0.01) {\n            setAmountValid(true);\n        } else {\n            setAmountValid(false);\n        }\n    };\n\n    const handleNewAmountInitialChange = (text) => {\n        setNewInitialAmount(text);\n    };\n\n    const handleRenewalDaysChange = (value) => {\n        setFechaTermino(value);\n    };\n\n\n    const renderDaysCards = () => {\n        if (!cliente) return null;\n\n        const startDate = new Date(cliente.fecha_inicio);\n        const endDate = new Date(cliente.fecha_termino);\n        const daysArray = [];\n\n        let currentDate = new Date(startDate);\n        let dayCount = 1;\n        while (currentDate <= endDate) {\n            const dayStr = currentDate.toISOString().split('T')[0];\n            const abonoForDay = abonos.find(abono => abono.fecha === dayStr);\n            const multaForDay = multas.find(multa => multa.fecha === dayStr);\n            const isPending = pendingDays.includes(dayStr);\n            const isPaid = abonoForDay || multaForDay ? !isPending : false;\n            const isHidden = hiddenDays.includes(dayStr);\n\n            if (isHidden) {\n                currentDate.setDate(currentDate.getDate() + 1);\n                dayCount++;\n                continue;\n            }\n\n            daysArray.push(\n                <View key={currentDate.toISOString()} style={[styles.dayCard, isPaid ? styles.paidCard : isPending ? styles.pendingCard : styles.defaultCard]}>\n                    <Text style={styles.cardText}>Día {dayCount}: {formatDateToMexican(currentDate)}</Text>\n                    <View style={styles.buttonsContainer}>\n                        <TouchableOpacity\n                            onPress={() => setFormData({ day: dayStr, type: 'abono' })}\n                            style={styles.abonoButton}\n                        >\n                            <Text style={styles.buttonText}>Pago</Text>\n                        </TouchableOpacity>\n                        <TouchableOpacity\n                            onPress={() => setFormData({ day: dayStr, type: 'multa' })}\n                            style={styles.multaButton}\n                        >\n                            <Text style={styles.buttonText}>Multa</Text>\n                        </TouchableOpacity>\n                        {!abonoForDay && (\n                            <TouchableOpacity\n                                onPress={() => markAsPending(dayStr)}\n                                style={[styles.pendienteButton, { backgroundColor: 'orange' }]}\n                            >\n                                <Text style={styles.buttonText}>Pendiente</Text>\n                            </TouchableOpacity>\n                        )}\n                    </View>\n\n                    {formData.day === dayStr && formData.type === 'abono' && (\n                        <View style={styles.formContainer}>\n                            <AbonoForm clienteId={id} onAddAbono={() => {\n                                handleAddAbono();\n                                markAsPaid(dayStr);\n                            }} />\n                        </View>\n                    )}\n                    {formData.day === dayStr && formData.type === 'multa' && (\n                        <View style={styles.formContainer}>\n                            <MultaForm clienteId={id} selectedDay={dayStr} onMultaAdded={() => {\n                                handleAddMulta();\n                                markAsPending(dayStr);\n                            }} />\n                        </View>\n                    )}\n                </View>\n            );\n            currentDate.setDate(currentDate.getDate() + 1);\n            dayCount++;\n        }\n\n\n        return (\n            <ScrollView>\n                <FlatList\n                    data={daysArray}\n                    renderItem={({ item }) => item}\n                    keyExtractor={(item, index) => index.toString()}\n                />\n            </ScrollView>\n        );\n    };\n\n    const renderAbonosList = () => {\n        if (abonos.length === 0) {\n            return <Text style={styles.noAbonosText}>No hay pagos registrados.</Text>;\n        }\n\n        return (\n            <FlatList\n                data={abonos}\n                renderItem={({ item }) => (\n                    <View style={styles.abonoCard}>\n                        <Text style={styles.abonoText}>Fecha: {formatDateToMexican(item.fecha)}</Text>\n                        <Text style={styles.abonoText}>Cantidad: ${item.monto}</Text>\n                    </View>\n                )}\n                keyExtractor={item => item.id.toString()}\n            />\n        );\n    };\n\n    const renderMultasList = () => {\n        if (multas.length === 0) {\n            return <Text style={styles.noAbonosText}>No hay multas registradas.</Text>;\n        }\n\n        return (\n            <FlatList\n                data={multas}\n                renderItem={({ item }) => (\n                    <View style={styles.multaCard}>\n                        <Text style={styles.abonoText}>Fecha: {formatDateToMexican(item.fecha)}</Text>\n                        <Text style={styles.abonoText}>Cantidad: ${item.monto}</Text>\n                    </View>\n                )}\n                keyExtractor={item => item.id.toString()}\n            />\n        );\n    };\n\n    return (\n        <ScrollView contentContainerStyle={styles.container}>\n            {cliente && (\n                <View>\n                    <View style={styles.detallesCliente}>\n                        <Text style={styles.title}>Detalles del cliente</Text>\n                        <Text style={styles.text}>Nombre: {cliente.nombre}</Text>\n                        <Text style={styles.text}>Fecha de Inicio: {formatDateToMexican(cliente.fecha_inicio)}</Text>\n                        <Text style={styles.text}>Fecha de Término: {formatDateToMexican(cliente.fecha_termino)}</Text>\n                        <Text style={styles.text}>Estado: {cliente.estado}</Text>\n                        <Text style={styles.text}>Monto inicial: ${cliente.monto_inicial}</Text>\n                        <Text style={styles.text}>Monto actual: ${cliente.monto_actual}</Text>\n                    </View>\n                    {canRenew && !showRenewInput && (\n                        <TouchableOpacity\n                            onPress={handleRenewLoan}\n                            style={[styles.button, { marginBottom: 10, backgroundColor: 'green' }]}\n                        >\n                            <Text style={styles.buttonText}>Renovar Préstamo</Text>\n                        </TouchableOpacity>\n                    )}\n\n                    {showRenewInput && (\n                        <View style={styles.RenovarPrestamo}>\n                            <Text style={styles.cardText}>Ingrese el monto para renovar el préstamo:</Text>\n                            <Text style={[styles.cardText, { color: amountValid ? 'green' : 'red' }]}>\n                                Monto requerido: ${cliente?.monto_actual}\n                            </Text>\n                            <TextInput\n                                style={styles.input}\n                                placeholder=\"Monto\"\n                                value={renewAmount}\n                                onChangeText={handleAmountChange}\n                                keyboardType=\"numeric\"\n                            />\n\n                            <Text style={styles.cardText}>Ingrese el nuevo monto</Text>\n                            <TextInput\n                                style={[styles.input, { backgroundColor: amountValid ? '#fff' : '#f0f0f0' }]}\n                                placeholder=\"Nuevo monto\"\n                                value={newInitialAmount}\n                                onChangeText={handleNewAmountInitialChange}\n                                keyboardType=\"numeric\"\n                                editable={amountValid}\n                            />\n\n                            <Text style={styles.label}>Fecha de Término:</Text>\n                            <DropDownPicker\n                                open={open}\n                                value={fechaTermino}\n                                items={items}\n                                setOpen={setOpen}\n                                setValue={handleRenewalDaysChange}\n                                setItems={setItems}\n                                placeholder=\"Seleccione la nueva fecha de término\"\n                                style={styles.dropdown}\n                            />\n\n                            <TouchableOpacity\n                                onPress={isFormValid ? handleConfirmRenewal : null}\n                                style={[styles.button, { marginTop: 10, backgroundColor: isFormValid ? 'green' : 'gray' }]}\n                                disabled={!isFormValid}\n                            >\n                                <Text style={styles.buttonText}>Confirmar Renovación</Text>\n                            </TouchableOpacity>\n\n                            <TouchableOpacity\n                                onPress={() => setShowRenewInput(false)}\n                                style={[styles.button, { backgroundColor: 'red', marginTop: 10 }]}\n                            >\n                                <Text style={styles.buttonText}>Cancelar</Text>\n                            </TouchableOpacity>\n                        </View>\n                    )}\n\n                    <TouchableOpacity\n                        onPress={() => setDaysVisible(!daysVisible)}\n                        style={[styles.button, { marginBottom: 10, marginTop: 10 }]}\n                    >\n                        <Text style={styles.buttonText}>{daysVisible ? 'Ocultar Días' : 'Mostrar Días'}</Text>\n                    </TouchableOpacity>\n                    {daysVisible && renderDaysCards()}\n                    <TouchableOpacity\n                        onPress={() => setPaidDaysVisible(!paidDaysVisible)}\n                        style={[styles.button, { marginBottom: 10, marginTop: 10  }]}\n                    >\n                        <Text style={styles.buttonText}>{paidDaysVisible ? 'Ocultar Abonos' : 'Mostrar Abonos'}</Text>\n                    </TouchableOpacity>\n                    {paidDaysVisible && renderAbonosList()}\n                    <TouchableOpacity\n                        onPress={() => setMultasVisible(!multasVisible)}\n                        style={[styles.button, { marginBottom: 10, marginTop: 10  }]}\n                    >\n                        <Text style={styles.buttonText}>{multasVisible ? 'Ocultar Multas' : 'Mostrar Multas'}</Text>\n                    </TouchableOpacity>\n                    {multasVisible && renderMultasList()}\n\n\n                </View>\n            )}\n        </ScrollView>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        padding: 16,\n        backgroundColor: '#1c1c1e',\n        height: '100%' ,\n    },\n    detallesCliente: {\n        backgroundColor: '#E8E8E8',\n        borderRadius: 8,\n        padding: 20,\n        marginBottom: 10,\n    },\n    input: {\n        borderWidth: 1,\n        borderColor: '#ccc',\n        padding: 10,\n        borderRadius: 8,\n        marginBottom: 10,\n        fontSize: 16\n    },\n\n    title: {\n        fontSize: 24,\n        fontWeight: 'bold',\n        marginBottom: 16,\n    },\n    text: {\n        fontSize: 16,\n        marginBottom: 8,\n    },\n    button: {\n        backgroundColor: '#007bff',\n        paddingVertical: 8,\n        paddingHorizontal: 10,\n        borderRadius: 5,\n        width: '80%',\n        margin: 'auto',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    buttonText: {\n        color: '#fff',\n        fontSize: 16\n    },\n    dayCard: {\n        padding: 12,\n        marginBottom: 10,\n        borderRadius: 8,\n        backgroundColor: '#E8E8E8',\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.1,\n        shadowRadius: 4,\n        elevation: 3\n    },\n    cardText: {\n        fontSize: 16,\n        fontWeight: 'bold',\n        marginBottom: 16,\n    },\n    RenovarPrestamo: {\n        backgroundColor: '#E9F0C2',\n        borderRadius: 8,\n        padding: 20,\n        marginBottom: 10,\n    },\n    abonoCard: {\n        padding: 12,\n        marginBottom: 10,\n        borderRadius: 8,\n        backgroundColor: '#CBE5C4',\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.1,\n        shadowRadius: 4,\n        elevation: 3\n    },\n    multaCard: {\n        padding: 12,\n        marginBottom: 10,\n        borderRadius: 8,\n        backgroundColor: '#EFC3CA',\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.1,\n        shadowRadius: 4,\n        elevation: 3\n    },\n    abonoText: {\n        fontSize: 16,\n        marginBottom: 8\n    },\n    noAbonosText: {\n        fontSize: 16,\n        textAlign: 'center',\n        marginTop: 10,\n        marginBottom: 10,\n        color: '#888'\n    },\n    paidCard: {\n        backgroundColor: '#d4edda'\n    },\n    pendingCard: {\n        backgroundColor: '#fff3cd'\n    },\n    defaultCard: {\n        backgroundColor: '#E8E8E8'\n    },\n    buttonsContainer: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginTop: 10,\n    },\n    abonoButton: {\n        backgroundColor: '#4CAF50', // Verde\n        paddingVertical: 8,\n        paddingHorizontal: 10,\n        borderRadius: 5,\n        width: '30%',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    multaButton: {\n        backgroundColor: '#F44336', // Rojo\n        paddingVertical: 8,\n        paddingHorizontal: 10,\n        borderRadius: 5,\n        width: '30%',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    pendienteButton: {\n        backgroundColor: '#FFEB3B', // Amarillo\n        paddingVertical: 8,\n        paddingHorizontal: 10,\n        borderRadius: 5,\n        width: '30%',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    buttonText: {\n        fontSize: 14,\n        fontWeight: 'bold',\n        color: '#FFF',\n        textAlign: 'center',\n    },\n    formContainer: {\n        marginTop: 15,\n    },\n});\n\nexport default ClienteDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}