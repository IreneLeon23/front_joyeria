{"ast":null,"code":"import React from'react';import View from\"react-native-web/dist/exports/View\";import Button from\"react-native-web/dist/exports/Button\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import axios from'axios';import AsyncStorage from'@react-native-async-storage/async-storage';import{jsx as _jsx}from\"react/jsx-runtime\";const MultaForm=({clienteId,onMultaAdded})=>{const handleAddMulta=async()=>{try{const token=await AsyncStorage.getItem('token');if(!token){console.error('No token found');return;}if(!clienteId){console.error('clienteId is not defined');return;}const fechaActual=new Date().toISOString().split('T')[0];const response=await axios.post(`https://prestamos-back-production.up.railway.app/clientes/${clienteId}/multas`,{fecha:fechaActual},{headers:{Authorization:`Bearer ${token}`}});if(response.status===201){console.log('Multa added successfully:',response.data);onMultaAdded();}else{console.error('Error al agregar multa:',response.data);}}catch(error){console.error('Error en la solicitud de agregar multa:',error);}};return _jsx(View,{style:styles.container,children:_jsx(Button,{title:\"Agregar Multa\",onPress:handleAddMulta})});};const styles=StyleSheet.create({container:{marginBottom:20}});export default MultaForm;","map":{"version":3,"names":["React","View","Button","StyleSheet","axios","AsyncStorage","jsx","_jsx","MultaForm","clienteId","onMultaAdded","handleAddMulta","token","getItem","console","error","fechaActual","Date","toISOString","split","response","post","fecha","headers","Authorization","status","log","data","style","styles","container","children","title","onPress","create","marginBottom"],"sources":["C:/prestamos/prestamos-front/components/MultaForm.jsx"],"sourcesContent":["import React from 'react';\nimport { View, Button, StyleSheet } from 'react-native';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst MultaForm = ({ clienteId, onMultaAdded }) => {\n    const handleAddMulta = async () => {\n        try {\n            const token = await AsyncStorage.getItem('token');\n            if (!token) {\n                console.error('No token found');\n                return;\n            }\n\n            if (!clienteId) {\n                console.error('clienteId is not defined');\n                return;\n            }\n\n            const fechaActual = new Date().toISOString().split('T')[0]; // Fecha actual en formato YYYY-MM-DD\n\n            const response = await axios.post(`https://prestamos-back-production.up.railway.app/clientes/${clienteId}/multas`, { fecha: fechaActual }, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n\n            if (response.status === 201) {\n                console.log('Multa added successfully:', response.data);\n                onMultaAdded();\n            } else {\n                console.error('Error al agregar multa:', response.data);\n            }\n        } catch (error) {\n            console.error('Error en la solicitud de agregar multa:', error);\n        }\n    };\n\n    return (\n        <View style={styles.container}>\n            <Button title=\"Agregar Multa\" onPress={handleAddMulta} />\n        </View>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        marginBottom: 20,\n    }\n});\n\nexport default MultaForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,IAAA,iDAAAC,MAAA,mDAAAC,UAAA,gDAE1B,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,YAAY,KAAM,2CAA2C,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErE,KAAM,CAAAC,SAAS,CAAGA,CAAC,CAAEC,SAAS,CAAEC,YAAa,CAAC,GAAK,CAC/C,KAAM,CAAAC,cAAc,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACA,KAAM,CAAAC,KAAK,CAAG,KAAM,CAAAP,YAAY,CAACQ,OAAO,CAAC,OAAO,CAAC,CACjD,GAAI,CAACD,KAAK,CAAE,CACRE,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAAC,CAC/B,OACJ,CAEA,GAAI,CAACN,SAAS,CAAE,CACZK,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAC,CACzC,OACJ,CAEA,KAAM,CAAAC,WAAW,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAE1D,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAhB,KAAK,CAACiB,IAAI,CAAC,6DAA6DZ,SAAS,SAAS,CAAE,CAAEa,KAAK,CAAEN,WAAY,CAAC,CAAE,CACvIO,OAAO,CAAE,CACLC,aAAa,CAAE,UAAUZ,KAAK,EAClC,CACJ,CAAC,CAAC,CAEF,GAAIQ,QAAQ,CAACK,MAAM,GAAK,GAAG,CAAE,CACzBX,OAAO,CAACY,GAAG,CAAC,2BAA2B,CAAEN,QAAQ,CAACO,IAAI,CAAC,CACvDjB,YAAY,CAAC,CAAC,CAClB,CAAC,IAAM,CACHI,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAEK,QAAQ,CAACO,IAAI,CAAC,CAC3D,CACJ,CAAE,MAAOZ,KAAK,CAAE,CACZD,OAAO,CAACC,KAAK,CAAC,yCAAyC,CAAEA,KAAK,CAAC,CACnE,CACJ,CAAC,CAED,MACI,CAAAR,IAAA,CAACN,IAAI,EAAC2B,KAAK,CAAEC,MAAM,CAACC,SAAU,CAAAC,QAAA,CAC1BxB,IAAA,CAACL,MAAM,EAAC8B,KAAK,CAAC,eAAe,CAACC,OAAO,CAAEtB,cAAe,CAAE,CAAC,CACvD,CAAC,CAEf,CAAC,CAED,KAAM,CAAAkB,MAAM,CAAG1B,UAAU,CAAC+B,MAAM,CAAC,CAC7BJ,SAAS,CAAE,CACPK,YAAY,CAAE,EAClB,CACJ,CAAC,CAAC,CAEF,cAAe,CAAA3B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}